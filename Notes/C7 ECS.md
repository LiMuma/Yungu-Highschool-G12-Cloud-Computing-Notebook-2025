# 云服务器连接与操作

## 连接云服务器

### 通过Internet连接
- 云服务器（如ECS, EC2）可以通过Internet与本地电脑连接。
- 部分服务商,如亚马逊,阿里云等提供了Web Console，通过网页模拟终端，实现与服务器的交互。
- 树莓派和Jetson等设备没有Web Console。

### SSH连接
- 所有服务器通常通过SSH建立连接。
- 服务器上的`sshd`（d表示demon，后台进程）负责控制连接，默认端口为22。
- 远程连接命令：`ssh user@IP或domain(:path)`
  - 例子：`ssh root@47.113.222.137`（公网IP）

### RSA密钥
- 使用`ssh-keygen`生成RSA密钥。
- 密钥存放在`~/.ssh/id_xxxx`中（`.pub`为公钥，无扩展名为私钥）。

### 内网连接
- 并非所有服务器都对外提供服务，可以存在内网连接。
- 内网地址示例：`10.0.0.0`，`197.108.0.0`
- 内网设备通过路由器发送数据，外部只能看到路由器的外网IP。

## 端口与通讯

### 端口
- 每个端口只能被一个程序使用或控制。
- 一台电脑总共有65536个端口。

### 通讯层次
- **应用层**：`scp`，`git`，`rsync`（命令）
- **传输层**：`HTTP`，`SSH`
- **网络层**：`TCP/IP`
- 每一层都是基于下一层的封装。

## 文件传输

### scp和rsync
- `scp`和`rsync`用于下载和传输云服务器上的文件。
- 使用`-r`选项递归传输目录。
- 例子：`scp ~/Download/abc root@47.113.222.137:~/ssh`